<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O'zbek va Xalqaro Kinolarni Qidirish</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- i18next CDN -->
    <script src="https://unpkg.com/i18next@21.6.16/dist/umd/i18next.min.js"></script>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --background-dark: #0f172a;
            --text-light: #f8fafc;
            --card-bg: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--background-dark) 0%, #1e293b 100%);
            color: var(--text-light);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 1s ease;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            animation: fadeIn 1s ease;
        }

        .search-box {
            position: relative;
            flex: 1;
            min-width: 300px;
            max-width: 500px;
        }

        .search-box input {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            background: var(--card-bg);
            color: var(--text-light);
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 15px rgba(37, 99, 235, 0.3);
        }

        .search-box i {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .filter-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        select {
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            background: rgba(255,255,255,0.25);
            color: var(--background-dark);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
            font-weight: 500;
        }

        select:focus, select:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
            background: rgba(255,255,255,0.35);
            color: var(--secondary-color);
        }

        select option {
            color: var(--background-dark);
            background: #f1f5f9;
            font-size: 1.05rem;
        }

        .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .movie-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .movie-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .movie-poster {
            position: relative;
            overflow: hidden;
            aspect-ratio: 2/3;
        }

        .movie-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .movie-card:hover .movie-poster img {
            transform: scale(1.1);
        }

        .movie-info {
            padding: 1.5rem;
        }

        .movie-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-light);
            line-height: 1.4;
        }

        .translated-title {
            font-size: 1rem;
            color: #94a3b8;
            font-weight: normal;
            display: block;
            margin-top: 0.25rem;
        }

        .movie-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .movie-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #cbd5e1;
        }

        .movie-rating {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            color: #fbbf24;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 3rem;
        }

        .pagination button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 50px;
            background: var(--card-bg);
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pagination button:hover:not(:disabled) {
            background: var(--primary-color);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .error {
            text-align: center;
            padding: 1rem;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 10px;
            color: #ef4444;
            margin: 1rem 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .search-container {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
            }

            .filter-group {
                width: 100%;
            }

            select {
                width: 100%;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div style="text-align:right; margin-bottom:1rem;">
      <select id="langSelect">
        <option value="uz">O'zbekcha</option>
        <option value="ru">Русский</option>
        <option value="en">English</option>
      </select>
    </div>
    <div class="container">
        <header class="header">
            <h1 data-i18n="title"></h1>
            <p data-i18n="subtitle"></p>
        </header>

        <div class="search-container">
            <div class="search-box">
                <input type="text" id="movieSearch" data-i18n="[placeholder]searchPlaceholder">
                <i class="fas fa-search"></i>
            </div>
            <div class="filter-group">
                <select id="yearFilter">
                    <option value="" data-i18n="year"></option>
                    <option value="2020-2025">2020-2025</option>
                    <option value="2010-2019">2010-2019</option>
                    <option value="2000-2009">2000-2009</option>
                    <option value="1990-1999">1990-1999</option>
                </select>
                <select id="genreFilter">
                    <option value="" data-i18n="genre"></option>
                    <option value="drama" data-i18n="genreDrama"></option>
                    <option value="comedy" data-i18n="genreComedy"></option>
                    <option value="action" data-i18n="genreAction"></option>
                    <option value="romance" data-i18n="genreRomance"></option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="searchMovie(1)" data-i18n="search">
                <i class="fas fa-search"></i> <span data-i18n="search"></span>
            </button>
            <button class="btn btn-secondary" onclick="clearSearch()" data-i18n="clear">
                <i class="fas fa-times"></i> <span data-i18n="clear"></span>
            </button>
        </div>

        <div id="movieResult" class="movie-container"></div>
        <div id="pagination" class="pagination"></div>
    </div>

    <script>
        // Global variables
        let currentPage = 1;
        let totalResults = 0;
        const resultsPerPage = 12;

        const uzbekMovies = [
            {
                title: "The Shawshank Redemption",
                year: "1994",
                director: "Frank Darabont",
                genre: "Drama",
                actors: "Tim Robbins, Morgan Freeman, William Sadler",
                plot: "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
                poster: "https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",
                rating: "9.3"
            },
            {
                title: "The Godfather",
                year: "1972",
                director: "Francis Ford Coppola",
                genre: "Crime, Drama",
                actors: "Marlon Brando, Al Pacino, James Caan",
                plot: "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",
                poster: "https://image.tmdb.org/t/p/w500/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",
                rating: "9.2"
            },
            {
                title: "The Godfather Part II",
                year: "1974",
                director: "Francis Ford Coppola",
                genre: "Crime, Drama",
                actors: "Al Pacino, Robert De Niro, Robert Duvall",
                plot: "The early life and career of Vito Corleone in 1920s New York is portrayed while his son, Michael, expands and tightens his grip on the family crime syndicate.",
                poster: "https://image.tmdb.org/t/p/w500/amvmeQWheahG3StKwIE1f7jRnkZ.jpg",
                rating: "9.0"
            },
            {
                title: "The Dark Knight",
                year: "2008",
                director: "Christopher Nolan",
                genre: "Action, Crime, Drama, Thriller",
                actors: "Christian Bale, Heath Ledger, Aaron Eckhart",
                plot: "When the menace known as the Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham.",
                poster: "https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg",
                rating: "9.0"
            },
            {
                title: "12 Angry Men",
                year: "1957",
                director: "Sidney Lumet",
                genre: "Drama",
                actors: "Henry Fonda, Lee J. Cobb, Martin Balsam",
                plot: "A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.",
                poster: "https://image.tmdb.org/t/p/w500/ow3wq89wM8qd5X7hWKxiRfsFf9C.jpg",
                rating: "8.9"
            },
            {
                title: "Schindler's List",
                year: "1993",
                director: "Steven Spielberg",
                genre: "Biography, Drama, History",
                actors: "Liam Neeson, Ralph Fiennes, Ben Kingsley",
                plot: "In German-occupied Poland during World War II, Oskar Schindler gradually becomes concerned for his Jewish workforce after witnessing their persecution by the Nazis.",
                poster: "https://image.tmdb.org/t/p/w500/c8Ass7acuOe4za6DhSattE359gr.jpg",
                rating: "8.9"
            },
            {
                title: "The Lord of the Rings: The Return of the King",
                year: "2003",
                director: "Peter Jackson",
                genre: "Action, Adventure, Drama",
                actors: "Elijah Wood, Viggo Mortensen, Ian McKellen",
                plot: "Gandalf and Aragorn lead the World of Men against Sauron's army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring.",
                poster: "https://image.tmdb.org/t/p/w500/rCzpDGLbOoPwLjy3OAm5NUPOTrC.jpg",
                rating: "8.9"
            },
            {
                title: "Pulp Fiction",
                year: "1994",
                director: "Quentin Tarantino",
                genre: "Crime, Drama",
                actors: "John Travolta, Uma Thurman, Samuel L. Jackson",
                plot: "The lives of two mob hitmen, a boxer, a gangster's wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
                poster: "https://image.tmdb.org/t/p/w500/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg",
                rating: "8.9"
            },
            {
                title: "The Good, the Bad and the Ugly",
                year: "1966",
                director: "Sergio Leone",
                genre: "Western",
                actors: "Clint Eastwood, Eli Wallach, Lee Van Cleef",
                plot: "A bounty hunting scam joins two men in an uneasy alliance against a third in a race to find a fortune in gold buried in a remote cemetery.",
                poster: "https://image.tmdb.org/t/p/w500/bX2xnavhMYjWDoZp1VM6VnU1xwe.jpg",
                rating: "8.8"
            },
            {
                title: "Forrest Gump",
                year: "1994",
                director: "Robert Zemeckis",
                genre: "Drama, Romance",
                actors: "Tom Hanks, Robin Wright, Gary Sinise",
                plot: "The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75.",
                poster: "https://image.tmdb.org/t/p/w500/saHP97rTPS5eLmrLQEcANmKrsFl.jpg",
                rating: "8.8"
            }
        ];

        const genreMap = {
            28: "Jangari",
            12: "Sarguzasht",
            16: "Animatsiya",
            35: "Komediya",
            80: "Jinoyat",
            99: "Hujjatli",
            18: "Drama",
            10751: "Oila",
            14: "Fantastika",
            36: "Tarixiy",
            27: "Qo'rqinchli",
            10402: "Musiqiy",
            9648: "Sirli",
            10749: "Romantik",
            878: "Ilmiy fantastika",
            10770: "TV Film",
            53: "Triller",
            10752: "Urush",
            37: "Vestern"
        };

        // i18next initialization
        i18next.init({
          lng: 'uz',
          resources: {
            uz: {
              translation: {
                title: "O'zbek va Xalqaro Kinolarni Qidirish",
                subtitle: "Sevimli filmlaringizni toping va yangi kinolarni kashf eting",
                searchPlaceholder: "Kino nomini o'zbekcha kiriting...",
                year: "Yilni tanlang",
                genre: "Janrni tanlang",
                genreDrama: "Drama",
                genreComedy: "Komediya",
                genreAction: "Jangari",
                genreRomance: "Romantik",
                search: "Qidirish",
                clear: "Tozalash"
              }
            },
            ru: {
              translation: {
                title: "Поиск узбекских и зарубежных фильмов",
                subtitle: "Найдите свои любимые фильмы и откройте новые",
                searchPlaceholder: "Введите название фильма на русском...",
                year: "Выберите год",
                genre: "Выберите жанр",
                genreDrama: "Драма",
                genreComedy: "Комедия",
                genreAction: "Боевик",
                genreRomance: "Романтика",
                search: "Поиск",
                clear: "Очистить"
              }
            },
            en: {
              translation: {
                title: "Search Uzbek and International Movies",
                subtitle: "Find your favorite movies and discover new ones",
                searchPlaceholder: "Enter movie name in English...",
                year: "Select year",
                genre: "Select genre",
                genreDrama: "Drama",
                genreComedy: "Comedy",
                genreAction: "Action",
                genreRomance: "Romance",
                search: "Search",
                clear: "Clear"
              }
            }
          }
        }, function(err, t) {
          updateContent();
        });

        function updateContent() {
          document.querySelectorAll('[data-i18n]').forEach(function(elem) {
            const key = elem.getAttribute('data-i18n');
            if (key.startsWith('[')) {
              // Attribute translation, e.g. [placeholder]searchPlaceholder
              const matches = key.match(/^\[(\w+)\](.+)$/);
              if (matches) {
                elem.setAttribute(matches[1], i18next.t(matches[2]));
              }
            } else {
              elem.innerHTML = i18next.t(key);
            }
          });
        }

        document.getElementById('langSelect').addEventListener('change', function() {
          i18next.changeLanguage(this.value, updateContent);
        });

        document.addEventListener('DOMContentLoaded', function() {
          updateContent();
        });

        // Translation function
        async function translateToUzbek(text) {
            try {
                const response = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=ru&tl=uz&dt=t&q=${encodeURIComponent(text)}`);
                const data = await response.json();
                return data[0][0][0];
            } catch (error) {
                console.error('Translation error:', error);
                return text; // Return original text if translation fails
            }
        }

        // Make searchMovie function globally accessible
        window.searchMovie = async function(page) {
            const searchQuery = document.getElementById('movieSearch').value.toLowerCase();
            const yearFilter = document.getElementById('yearFilter').value;
            const genreFilter = document.getElementById('genreFilter').value;
            const movieContainer = document.getElementById('movieResult');
            
            // Show loading state
            movieContainer.innerHTML = '<div class="loading"><i class="fas fa-spinner fa-spin"></i> Kinolar qidirilmoqda...</div>';

            try {
                // Search in Uzbek movies first
                let filteredMovies = uzbekMovies.filter(movie => {
                    const matchesSearch = movie.title.toLowerCase().includes(searchQuery);
                    const matchesYear = !yearFilter || movie.year.startsWith(yearFilter.split('-')[0]);
                    const matchesGenre = !genreFilter || movie.genre.toLowerCase().includes(genreFilter);
                    return matchesSearch && matchesYear && matchesGenre;
                });

                // If no results in Uzbek movies, search in TMDb
                if (filteredMovies.length === 0 && searchQuery) {
                    const apiKey = 'a25f430cd9f39d7e8627f022724312d4';
                    const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${encodeURIComponent(searchQuery)}&page=${page}&language=ru`);
                    const data = await response.json();

                    if (data.results && data.results.length > 0) {
                        const [startYear, endYear] = yearFilter ? yearFilter.split('-').map(Number) : [0, Infinity];
                        
                        // Process movies in parallel
                        const moviePromises = data.results
                            .filter(movie => {
                                const movieYear = parseInt(movie.release_date?.split('-')[0] || 0);
                                return movieYear >= startYear && movieYear <= endYear;
                            })
                            .map(async movie => {
                                // Translate title and plot to Uzbek
                                const [translatedTitle, translatedPlot] = await Promise.all([
                                    translateToUzbek(movie.title),
                                    translateToUzbek(movie.overview || 'Ta\'rif yo\'q')
                                ]);
                                
                                return {
                                    title: movie.title,
                                    translatedTitle: translatedTitle,
                                    year: movie.release_date?.split('-')[0] || 'N/A',
                                    director: 'Ma\'lumot yo\'q',
                                    genre: movie.genre_ids.map(id => genreMap[id] || 'N/A').join(', '),
                                    actors: 'Ma\'lumot yo\'q',
                                    plot: translatedPlot,
                                    poster: movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : 'https://via.placeholder.com/300x450?text=Rasm+Yok',
                                    rating: (movie.vote_average / 2).toFixed(1)
                                };
                            });

                        // Wait for all translations to complete
                        filteredMovies = await Promise.all(moviePromises);
                    }
                }

                totalResults = filteredMovies.length;
                const startIndex = (page - 1) * resultsPerPage;
                const endIndex = startIndex + resultsPerPage;
                const paginatedMovies = filteredMovies.slice(startIndex, endIndex);

                if (paginatedMovies.length === 0) {
                    movieContainer.innerHTML = `
                        <div class="error">
                            <i class="fas fa-exclamation-circle"></i>
                            Kechirasiz, kino topilmadi. Boshqa nom bilan urinib ko'ring!
                        </div>
                    `;
                } else {
                    displayMovies(paginatedMovies);
                }
                
                updatePagination(page);
            } catch (error) {
                movieContainer.innerHTML = `
                    <div class="error">
                        <i class="fas fa-exclamation-circle"></i>
                        Xatolik yuz berdi: ${error.message}. Internet aloqangizni tekshiring!
                    </div>
                `;
            }
        };

        // Make clearSearch function globally accessible
        window.clearSearch = function() {
            document.getElementById('movieSearch').value = '';
            document.getElementById('yearFilter').value = '';
            document.getElementById('genreFilter').value = '';
            searchMovie(1);
        };

        function createMovieCard(movie) {
            // Kino nomini URL uchun mos shaklga keltirish (maxsus belgilarni olib tashlash, bo'sh joylarni + bilan)
            function makeSearchString(str) {
                return str
                    .replace(/[^a-zA-Z0-9\s]/g, '') // faqat harf va raqamlar
                    .replace(/\s+/g, '+')           // bo'sh joylarni + bilan
                    .trim();
            }
            const urlTitle = makeSearchString(movie.title);
            const asilmediaLink = `https://asilmedia.org/index.php?do=search&subaction=search&story=${urlTitle}`;
            let uzbekLinks = '';
            if (movie.translatedTitle) {
                const urlUzTitle = makeSearchString(movie.translatedTitle);
                uzbekLinks = `
                    <a href=\"https://asilmedia.org/index.php?do=search&subaction=search&story=${urlUzTitle}\" target=\"_blank\" class=\"btn btn-secondary\" style=\"padding:0.5rem 1rem; font-size:0.95rem;\">AsilMedia (uzbekcha nom)</a>
                `;
            }
            return `
                <div class=\"movie-card\">\n                    <div class=\"movie-poster\">\n                        <img src=\"${movie.poster}\" alt=\"${movie.title}\">\n                        <div class=\"movie-rating\">\n                            <i class=\"fas fa-star\"></i> ${movie.rating}\n                        </div>\n                    </div>\n                    <div class=\"movie-info\">\n                        <h3 class=\"movie-title\">\n                            ${movie.title}\n                            ${movie.translatedTitle ? `<br><span class=\\\"translated-title\\\">${movie.translatedTitle}</span>` : ''}\n                        </h3>\n                        <div class=\"movie-meta\">\n                            <span><i class=\"fas fa-calendar\"></i> ${movie.year}</span>\n                            <span><i class=\"fas fa-film\"></i> ${movie.genre}</span>\n                        </div>\n                        <p class=\"movie-description\">${movie.plot}</p>\n                        <div style=\"margin-top:1rem; display:flex; flex-wrap:wrap; gap:0.5rem;\">\n                            <a href=\"${asilmediaLink}\" target=\"_blank\" class=\"btn btn-secondary\" style=\"padding:0.5rem 1rem; font-size:0.95rem;\">AsilMedia (asli nom)</a>\n                            ${uzbekLinks}\n                        </div>\n                    </div>\n                </div>\n            `;
        }

        function displayMovies(movies) {
            const movieContainer = document.getElementById('movieResult');
            movieContainer.innerHTML = movies.map(movie => createMovieCard(movie)).join('');
        }

        function updatePagination(currentPage) {
            const totalPages = Math.ceil(totalResults / resultsPerPage);
            const paginationContainer = document.getElementById('pagination');
            
            let paginationHTML = '';
            
            if (totalPages > 1) {
                if (currentPage > 1) {
                    paginationHTML += `
                        <button onclick="searchMovie(${currentPage - 1})" class="pagination-btn">
                            <i class="fas fa-chevron-left"></i> Oldingi
                        </button>
                    `;
                }

                // Show page numbers
                for (let i = 1; i <= totalPages; i++) {
                    if (i === currentPage) {
                        paginationHTML += `
                            <button disabled class="pagination-btn active">
                                ${i}
                            </button>
                        `;
                    } else {
                        paginationHTML += `
                            <button onclick="searchMovie(${i})" class="pagination-btn">
                                ${i}
                            </button>
                        `;
                    }
                }

                if (currentPage < totalPages) {
                    paginationHTML += `
                        <button onclick="searchMovie(${currentPage + 1})" class="pagination-btn">
                            Keyingi <i class="fas fa-chevron-right"></i>
                        </button>
                    `;
                }
            }

            paginationContainer.innerHTML = paginationHTML;
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Initial display
            searchMovie(1);

            // Add event listeners for real-time search
            document.getElementById('movieSearch').addEventListener('input', () => searchMovie(1));
            document.getElementById('yearFilter').addEventListener('change', () => searchMovie(1));
            document.getElementById('genreFilter').addEventListener('change', () => searchMovie(1));
        });
    </script>
</body>
</html>
